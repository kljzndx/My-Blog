---
layout: post
title: åœ¨ Linux ARM ç³»ç»Ÿä¸Šå®‰è£… .Net
categories: dotnet
tags: [å®‰è£…]
---

* content
{:toc}    

# å“­ç¬‘ä¸å¾—çš„ç»å†

åŠä¸ªæœˆå‰æˆ‘åœ¨æˆ‘æ ‘è“æ´¾ä¸Šè£… .Net å¯æ²¡å°‘èµ°å¼¯è·¯ï¼Œæˆ‘æ¥ç²—ç•¥çš„è¯´è¯´æˆ‘è¿™å¼¯è·¯æ˜¯å’‹èµ°çš„å§  
æˆ‘å…ˆæ˜¯æƒ³ç€ç”¨aptå‘½ä»¤ä¸€é”®å®‰è£…ï¼Œäºæ˜¯æˆ‘å°± `sudo apt-get install dotnet` æ•²å›è½¦ä¹‹åæç¤ºè¯´æ‰¾ä¸åˆ°åŒ…  
æˆ‘å°±åˆè¯•äº†è¯• dotnet-sdk å’Œ dotnet-runtime ç»“æœéƒ½ä¸€æ ·æ˜¯æ‰¾ä¸åˆ°åŒ…

ç„¶åæˆ‘å°±åˆ°å¾®è½¯æ–‡æ¡£ä¸Šæ‰¾å®‰è£…èµ„æ–™å»äº†ã€‚ã€‚ã€‚  
æˆ‘å…ˆæ˜¯æ‰¾åˆ°äº†Ubuntuçš„å®‰è£…æ–‡æ¡£ï¼ˆå› ä¸ºæˆ‘çŸ¥é“ä»–ä¹Ÿæ˜¯ç”¨aptç®¡ç†è½¯ä»¶åŒ…çš„ï¼‰  
è¿™ä¸ªæ–‡æ¡£é‡Œé¢è¯´è¦å…ˆåŠ ä¸ªå¯†é’¥å†åŠ ä¸ªè½¯ä»¶æºï¼Œç„¶åè¿˜è¦è£…ä¸ªè§£æhttpsæºçš„è½¯ä»¶ä¹‹åè¿˜å¾— `apt-get update` æ›´æ–°ä¸‹è½¯ä»¶åŒ…ç´¢å¼•  
ä¸Šé¢è¿™äº›éƒ½æå®Œåæ‰èƒ½ç”¨ `apt-get install dotnet-sdk` æ¥è£….NetSDKï¼Œç„¶è€Œåœ¨æˆ‘ä¸€é€šå¤åˆ¶ç²˜è´´ä¹‹åï¼Œå±…ç„¶è¿˜æ˜¯è¯´æ‰¾ä¸åˆ°åŒ…
å¿½ç„¶æˆ‘åˆåœ¨å·¦è¾¹ç›®å½•çœ‹åˆ°äº† debiançš„å®‰è£…æ–‡æ¡£ é‡Œé¢è¯´çš„æ­¥éª¤å’Œä¸Šé¢å¤§åŒå°å¼‚  
ç„¶åæˆ‘åˆæ˜¯ä¸€é€šCopyçŒ›å¦‚è™ï¼Œå†çœ‹ç»“æœã€‚ã€‚å•¥éƒ½æ²¡æœ‰ï¼ŒTMDåˆ«äººè–…ç¾Šæ¯›çš„éƒ½æœ‰2å—5å‘¢ï¼Œæˆ‘è¿™è¿˜æ˜¯è¯´æ‰¾ä¸åˆ°åŒ…

æœ€åæˆ‘å®åœ¨æ²¡åŠæ³•ï¼Œåªå¥½æ‰¾äººé—®å‘—ï¼Œå…¶å®è¯´æ˜¯æ‰¾äººä¹Ÿä¸å¯¹ï¼Œå› ä¸ºæˆ‘æ˜¯åœ¨ç¾¤é‡Œæé—®çš„  
ä¸ä¹…ï¼Œå°±æœ‰ä¸ªå¤§ä½¬å›å¤æˆ‘äº†ã€‚ã€‚

> è¿™æ–‡æ¡£å¼€å¤´å°±è¯´äº†ï¼šç›®å‰åªæ”¯æŒåœ¨64ä½çš„ç³»ç»Ÿä¸Šä½¿ç”¨aptå‘½ä»¤ä¸€é”®å®‰è£…ï¼Œå…¶ä»–ä½“ç³»ç»“æ„ï¼ˆå¦‚ ARMï¼‰è¯·æ‰‹åŠ¨å®‰è£…

æˆ‘å›å»å†çœ‹äº†ä¸‹æ–‡æ¡£ï¼Œwocè¿˜çœŸæ˜¯ï¼Œè€Œä¸”åé¢è¿˜æœ‰ä¸ªæ‰‹åŠ¨å®‰è£…çš„æ–‡æ¡£é“¾æ¥ï¼Œé¡¿æ—¶è§‰å¾—å“­ç¬‘ä¸å¾—

ä¹‹åæˆ‘å°±æŒ‰ç…§è¿™æ–‡æ¡£å®‰è£…äº†ï¼Œç»ˆäºæŠŠsdkå’Œasp.net coreçš„Runtimeå®‰è£…æˆåŠŸäº†ï¼Œè¿«ä¸åŠå¾…çš„å»ºäº†ä¸ªmvcé¡¹ç›®ï¼Œå‡†å¤‡ç«‹é©¬è·‘èµ·æ¥çœ‹ä¸‹æ•ˆæœï¼Œç„¶è€Œå°±åœ¨æˆ‘è¾“å…¥äº† `dotnet run` å¹¶å›è½¦ä¹‹åä»–å´æŠ¥é”™äº†ï¼Œå¤§æ¦‚æ„æ€æ˜¯è¯´æ‰¾ä¸åˆ°runtimeï¼Œå¯é—®é¢˜æ˜¯æˆ‘æ˜æ˜éƒ½è£…äº†ï¼Œè€Œä¸”ç¯å¢ƒå˜é‡éƒ½**é…ç½®å¥½äº†**ï¼Œå’‹è¿˜æ˜¯æ‰¾ä¸åˆ°å‘¢

![dotnetè¿è¡Œé”™è¯¯]({{'/blog-imgs/dotnet-setup/dotnet-run-error.png' | prepend:site.baseurl}})

æ— å¥ˆä¹‹ä¸‹ï¼Œæˆ‘åªèƒ½å†æ¬¡åˆ°ç¾¤é‡Œæé—®  
è¿™æ¬¡æ²¡ä¸€ä¸ªäººçŸ¥é“è¿™æ˜¯å’‹å›äº‹ï¼Œå€’æ˜¯ä¹‹å‰é‚£ä½å¤§ä½¬ç»™æˆ‘å‘äº†ä¸ª â€œæ€ä¹ˆåœ¨linux armä¸Šå®‰è£….netâ€ çš„å¸–å­  
æœ€ç»ˆæˆ‘è‡ªå·±æ‰¾åˆ°äº†åŸå› ï¼šç¯å¢ƒå˜é‡æ²¡é…ç½®å¥½ï¼Œ`$DOTNET_ROOT` å˜é‡çš„å¼€å¤´å¤šäº†ä¸ªå†’å·ğŸ¤£

ä¿®æ”¹å¥½äº†ä¹‹åæ€»ç®—æ˜¯èƒ½è·‘èµ·æ¥äº†ï¼Œä½†æ²¡å‡ å¤©æˆ‘åˆå‘ç°äº†ä¸ªé—®é¢˜ï¼Œæ²¡æ³•åœ¨rootè´¦æˆ·ä¸‹ä½¿ç”¨dotnetï¼Œæç¤ºè¯´æœªçŸ¥å‘½ä»¤  
æˆ‘ç¨å¾®æƒ³äº†ä¸‹å°±çŸ¥é“é—®é¢˜åº”è¯¥å‡ºåœ¨å“ªäº†ï¼Œæˆ‘æŠŠdotnetè£…åœ¨piè´¦æˆ·çš„ä¸ªäººæ–‡ä»¶å¤¹ä¸‹äº†ï¼Œè‡ªç„¶åˆ«çš„è´¦æˆ·è®¿é—®ä¸åˆ°

è¿™æ—¶å€™æˆ‘æƒ³èµ·äº†ä¹‹å‰é‚£ä½å¤§ä½¬å‘çš„å¸–å­ï¼Œçœ‹äº†ä¸‹å¸–å­é‡Œçš„æ–¹æ³•ï¼Œå‘ç°ä»–çš„å®‰è£…ä½ç½®æ˜¯å…¨å±€çš„ï¼Œè€Œä¸”æˆ‘è·Ÿä»–ä¹Ÿå°±å°‘ä¸¤ä¸ªå‘½ä»¤ç½¢äº†ï¼Œé‚£ä¸¤ä¸ªå‘½ä»¤æ˜¯ç§»åŠ¨æ–‡ä»¶å¤¹å’Œè½¯é“¾æ¥  
æŒ‰ä»–çš„æ–¹æ³•æå®Œï¼Œå†æŠŠç¯å¢ƒå˜é‡å…¨åˆ äº†ä¹‹åï¼Œé—®é¢˜å°±å®Œç¾è§£å†³äº†ï¼Œä¸ç®¡å•¥è´¦æˆ·éƒ½èƒ½ç”¨äº†

æœ€åé™„ä¸Šè¿™ä½å¤§ä½¬çš„åšå®¢ï¼ŒåŒæ—¶å†æ¬¡æ„Ÿè°¢è¿™ä½å¤§ä½¬  
LiesAuer's Blog: https://www.liesauer.net/blog/

# ä¸‹è½½ä¸è§£å‹

> æ¸©é¦¨æç¤ºï¼šä»¥ä¸‹æ“ä½œæˆ‘éƒ½æ˜¯åœ¨æ ‘è“æ´¾ä¸Šæçš„

é¦–å…ˆæˆ‘ä»¬å¾—å»å®˜ç½‘ä¸Šä¸‹è½½ .net core sdk å’Œ runtime  
ä¸‹è½½åœ°å€ï¼š https://dotnet.microsoft.com/download/dotnet-core/

ä¸‹å®Œä¹‹åï¼ŒæŠŠä»–ä¿©éƒ½è§£å‹åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œå»ï¼Œè¿™æ–‡ä»¶å¤¹çš„åå­—å¹¶ä¸é‡è¦ï¼Œä½†æœ€å¥½æ˜¯dotnet

```bash
$ mkdir -p dotnet
$ tar -zxf å‹ç¼©åŒ…æ–‡ä»¶è·¯å¾„ -C ./dotnet/
```

![è§£å‹å®Œæˆæˆªå›¾]({{ '/blog-imgs/dotnet-setup/unzip.png' | prepend:site.baseurl }})

# ç§»åŠ¨ä¸è½¯é“¾æ¥

é¦–å…ˆè¦æŠŠ dotnet æ–‡ä»¶å¤¹ç§»åŠ¨åˆ° /usr/share/ ç›®å½•ä¸‹

```bash
$ sudo mv dotnet /usr/share/dotnet/
```

ç§»åŠ¨è¿‡å»ä¹‹åï¼Œå†æ¥åˆ›å»ºä¸ªè½¯è¿æ¥

```bash
$ sudo ln -s /usr/share/dotnet/dotnet /usr/bin/dotnet
```

okï¼Œç°åœ¨é‡å¯ä¸‹ç»ˆç«¯æˆ–è€…sshï¼Œä½ å°±å¯ä»¥å¼€å§‹ä½¿ç”¨dotnetäº†

åˆ°æ­¤dotnet sdkåŠruntimeå°±å®‰è£…å®Œæˆäº†

å‚è€ƒèµ„æ–™ï¼š https://gist.github.com/richlander/467813274cea8abc624553ee72b28213