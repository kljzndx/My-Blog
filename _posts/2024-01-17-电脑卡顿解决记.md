---
layout: post
title: 电脑卡顿解决记
categories: 系统性能问题
tags: [显卡驱动, 英特尔, 英伟达, 系统卡顿]
---

* content
{:toc}

# 缘起

最近我的电脑突然卡的不行，卡到什么程度呢，最明显的就是B站的视频封面，历史记录列表都刷不出来了，别的网站也是非常的慢，好像所有按需加载的东西都变得非常慢，甚至直接加载失败。

# 解决之路

我首先是重启了下我家里唯一的网络设备——光猫，问题依旧，而且光猫状态正常，那就只能是电脑问题了。然后我又把什么浏览器缓存啊dns啊都给设置和清理了一遍，然而还是没用。

摆在我面前的似乎只剩一条路了，那就是重装系统，但是我不想重装，因为距离上次重装也就两三个月，同时我也没装多少软件。这说明什么呢，这说明大概率是电脑配置不行了，要报废了，所以我觉得重装系统不会有多大用的，充其量就是刚装好时流畅一点，等我装好我要用的软件了，又会和现在一样了。

但是仔细想想也不对劲，我这电脑再怎么老旧，他好歹还能升级win11啊，虽然是末班车，但起码坐上了啊。然后我就开始想我这电脑配置了

| Name | Value |
| ---- | ---- |
| cpu | i5-8250u |
| gpu | mx110 |
| ram | 8G |
| stage | 1T HDD |

看来看去也就机械硬盘是有可能有问题的了，但我这是一体机，不方便换硬件，所以我能做的也只有坏道检测了，于是下了个diskgenius扫描了下，三小时后扫描完了，结果啥都没扫到，正常的很。

之后我就没辙了，甚至想搞个双系统了，再装个统信UOS专门共娱乐消遣用，但是因为懒就没搞。

过了N多天之后才知道问题出在哪，当时我想打开vs来写写代码修修bug啥的，结果这vs启动了2分钟还没出现项目选择面板（官方名称叫“启动面板”），而且电脑还非常卡，于是我就打开了任务管理器，不看不知道一看吓一跳，内存爆了，再一看进程，"dwm.exe"占用了超2G内存。

看到这个后我第一想到的就是更新核显驱动，因为这是老bug，早就修复了。然后我就去装驱动了，装的时候有个“全新安装”或者“清洁安装”的选项，我就勾上然后开装了，装好后不仅内存问题解决了，浏览器卡顿问题也解决了，OMG，天知道为什么显卡驱动还能跟网页加载扯上关系。

在我以为这就算完事了的时候，第二天又来事儿了，好好的电脑突然黑屏了，并且响起了“弹出设备”的提示音，没过多久就恢复了。赶紧去检查驱动版本，果然又变回原来的旧版本了，系统自带的更新功能给我更了个旧版本，这功能做的真够无语的，此前就听说过这玩意会装旧版驱动，还是反复安装的那种，这次算是见识到了。

我并没有马上重装新版本，因为我知道没用，我想的是先看看有没有相关的入口啥的可以退回以前的版本，我很快就找到了，就在我看的驱动版本号的下方有个“回退驱动程序”按钮，点进去之后就让我选择一个回退原因，我记得有“上一版本更稳定”和“上一版本性能更好”，然而都不是我的情况，我就选了“其他”，填上我自己的理由“上一版本比当前版本更新”，然后就点击确定开始回退了，从这以后他就没再自动安装旧版驱动了。

# 番外

其实显卡驱动导致的卡顿，我还遇到过另一种情况，这个情况是英伟达的独显驱动搞出来的，症状是爆硬盘读写性能，爆的还非常有规律，当时我进任务管理器看到一个叫“NVDIA Container”的玩意儿每隔半分钟就会爆一次读写，最后也是通过重装驱动来解决的。

总之就很神奇，看来以后重装系统还得自己手动装下显卡驱动啊

# 附录

其实就算那个“回退功能”不能阻止系统自动装驱动，我也还有个备用方案。因为微软曾经推出过一个屏蔽更新工具，所以如果实在不行我就会用这个来屏蔽更新

下载地址：https://download.microsoft.com/download/F/2/2/F22D5FDB-59CD-4275-8C95-1BE17BF70B21/wushowhide.diagcab